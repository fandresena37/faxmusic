window.BAO.sectionRenderer=new class{async fetch(sections,sectionsUrl=this.sectionsUrl){typeof sections=="string"&&(sections=[sections]);const[path,querystring=""]=sectionsUrl.split("?"),params=new URLSearchParams(querystring);return params.append("sections",sections.join(",")),(await fetch(`${path}?${params.toString()}`)).json()}async fetchSingle(section,sectionsUrl=window.location.pathname){const[path,querystring=""]=sectionsUrl.split("?"),params=new URLSearchParams(querystring);return params.set("section_id",section),(await fetch(`${path}?${params.toString()}`)).text()}render(section){if("dontRender"in section&&section.dontRender)return;this.validate(section);const elementToReplace=document.getElementById(section.id)?.querySelector(section.selector)||document.getElementById(section.id);if(!elementToReplace){console.info(`Can't find ${section.id} even though we are trying to render it`);return}const newHTML=this.getInnerHtml(section.html,section.selector),oldHTML=elementToReplace.outerHTML;elementToReplace.outerHTML=typeof section.convertor=="function"?section.convertor(oldHTML,newHTML):newHTML}renderMultiple(sections){sections.forEach(section=>this.render(section))}getInnerHtml(html,selector=".shopify-section"){return this.convertToDOM(html).querySelector(selector).innerHTML}convertToDOM(html){return new DOMParser().parseFromString(html,"text/html")}validate(section){const isValid=this.expectedKeys.every(key=>key in section);if(!isValid)throw new Error(`section is missing these keys: "${this.expectedKeys.filter(k=>!(k in section)).join(", ")}"`);return isValid}get expectedKeys(){return["id","selector","html"]}get pushCartSections(){return[{id:"push-cart-shipping",section:"push-cart-shipping",selector:".shopify-section"},{id:"push-cart-items",section:"push-cart-items",selector:".shopify-section"},{id:"push-cart-recommendations",section:"push-cart-recommendations",selector:".shopify-section"},{id:"push-cart-footer",section:"push-cart-footer",selector:".shopify-section"},{id:"push-cart-count",section:"push-cart-count",selector:".shopify-section",dontRender:!0}]}get cartSections(){return[{id:"push-cart-count",section:"push-cart-count",selector:".shopify-section",dontRender:!0},{id:"template-cart-items",section:"template-cart-items",selector:".shopify-section"}]}get sectionsUrl(){return`${window.location.pathname}${window.location.search}`}};
//# sourceMappingURL=/cdn/shop/t/50/assets/bao-section-rendering.js.map?v=74284373645672913321707734704
