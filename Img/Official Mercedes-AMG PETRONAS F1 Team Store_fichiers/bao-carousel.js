const setInitialised=()=>carousel=>{const matchSlidesKey=Object.keys(carousel.container.dataset).find(key=>carousel.container.dataset[key]==="slides"),carouselName=matchSlidesKey?matchSlidesKey.replace("El","").replace(/[A-Z]/g," $&").trim().toLowerCase():carousel.container.className;carousel.on("created",carousel2=>{carousel2.container.setAttribute("data-initialised",!0),window.BAO.dispatchEvent(window.BAO.EVENTS.CAROUSEL.CREATED)}),carousel.on("slideChanged",carousel2=>{window.dataLayer.push({page_type:"carousel",event:"carousel_engagement",carousel_name:carouselName});const{abs,maxIdx}=carousel2.track.details;abs===maxIdx&&window.dataLayer.push({page_type:"carousel",event:"carousel_engagement_end",carousel_name:carouselName})}),new IntersectionObserver((entries,observer2)=>{entries.forEach(entry=>{entry.isIntersecting&&(window.dataLayer.push({page_type:"carousel",event:"carousel_impression",carousel_name:carouselName}),observer2.unobserve(entry.target))})},{threshold:.8}).observe(carousel.container)},useArrows=({container,next,previous}={})=>carousel=>{next?.addEventListener("click",carousel.next),previous?.addEventListener("click",carousel.prev);const updateButtonStates=()=>{const{abs,maxIdx,min}=carousel.track.details;container?.setAttribute("aria-hidden",maxIdx===0),next&&(next.disabled=abs===maxIdx),previous&&(previous.disabled=abs===min)};carousel.on("created",updateButtonStates),carousel.on("slideChanged",updateButtonStates)},useAutoplay=(seconds=2,{pauseOnHover=!0}={})=>{const delay=seconds*1e3;return carousel=>{let timeout,mouseOver=!1;const clearCurrentTimout=()=>clearTimeout(timeout),setNextTimeout=()=>{clearCurrentTimout(),!mouseOver&&(timeout=setTimeout(carousel.next,delay))};carousel.on("created",()=>{pauseOnHover&&(carousel.container.addEventListener("mouseover",()=>{mouseOver=!0,clearCurrentTimout()}),carousel.container.addEventListener("mouseout",()=>{mouseOver=!1,setNextTimeout()})),setNextTimeout()}),carousel.on("dragStarted",clearCurrentTimout),carousel.on("animationEnded",setNextTimeout),carousel.on("updated",setNextTimeout)}},useDots=(dots=[])=>carousel=>{const updateDotStates=()=>{dots.forEach((dot,index)=>{const isCurrent=carousel.track.details.rel===index;dot.setAttribute("aria-current",String(isCurrent))})};dots.forEach((dot,index)=>{dot.addEventListener("click",()=>{carousel.moveToIdx(index)})}),carousel.on("created",updateDotStates),carousel.on("slideChanged",updateDotStates)},useProgress=({container,progressbar}={})=>carousel=>{const updateProgressState=()=>{const maximumIndex=carousel.track.details.maxIdx,currentIndex=carousel.track.details.rel;container?.setAttribute("aria-hidden",maximumIndex===0);const barLength=100/(maximumIndex+1),barPositon=currentIndex/(maximumIndex+1)*100;progressbar?.style.setProperty("--Bar_Width",`${barLength}%`),progressbar?.style.setProperty("--Bar_Position",`${barPositon}%`)};carousel.on("created",updateProgressState),carousel.on("slideChanged",updateProgressState)};window.BAO.Carousel=window.BAO.Carousel||{},window.BAO.Carousel.plugins={setInitialised,useArrows,useAutoplay,useDots,useProgress};
//# sourceMappingURL=/cdn/shop/t/50/assets/bao-carousel.js.map?v=30346180584513743411707734699
